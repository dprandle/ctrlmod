<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>edison ctrlmod: edmessage_dispatch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">edison ctrlmod
   </div>
   <div id="projectbrief">Navigation control system using the edison</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classedmessage__dispatch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">edmessage_dispatch Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class <a class="el" href="classedmessage__dispatch.html" title="Class edmessage_dispatch. ">edmessage_dispatch</a>.  
 <a href="classedmessage__dispatch.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="edmessage__dispatch_8h_source.html">edmessage_dispatch.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6fca76f17817a3296ed712c8a2cc52d1"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
std::set&lt; <a class="el" href="classedsystem.html">edsystem</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#a6fca76f17817a3296ed712c8a2cc52d1">listener_map</a></td></tr>
<tr class="separator:a6fca76f17817a3296ed712c8a2cc52d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e1b44916d32280f02e952e0e41774bc"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="classedsystem.html">edsystem</a> <br class="typebreak"/>
*, std::deque&lt; <a class="el" href="structedmessage.html">edmessage</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#a4e1b44916d32280f02e952e0e41774bc">listener_queue</a></td></tr>
<tr class="separator:a4e1b44916d32280f02e952e0e41774bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8eef1480309ce6b3439b649ed5e94fdc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#a8eef1480309ce6b3439b649ed5e94fdc">edmessage_dispatch</a> ()</td></tr>
<tr class="separator:a8eef1480309ce6b3439b649ed5e94fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00ef6c590f2d0aa56ce4ba0c42d8a20"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#ad00ef6c590f2d0aa56ce4ba0c42d8a20">~edmessage_dispatch</a> ()</td></tr>
<tr class="separator:ad00ef6c590f2d0aa56ce4ba0c42d8a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e810fc8be900d420c5bc4e4e7ed0fb"><td class="memTemplParams" colspan="2">template&lt;class MessageType &gt; </td></tr>
<tr class="memitem:a72e810fc8be900d420c5bc4e4e7ed0fb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#a72e810fc8be900d420c5bc4e4e7ed0fb">register_listener</a> (<a class="el" href="classedsystem.html">edsystem</a> *sys)</td></tr>
<tr class="separator:a72e810fc8be900d420c5bc4e4e7ed0fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e13b40c33728a19f189bc8dd222d3b"><td class="memTemplParams" colspan="2">template&lt;class MessageType &gt; </td></tr>
<tr class="memitem:af2e13b40c33728a19f189bc8dd222d3b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#af2e13b40c33728a19f189bc8dd222d3b">unregister_listener</a> (<a class="el" href="classedsystem.html">edsystem</a> *sys)</td></tr>
<tr class="separator:af2e13b40c33728a19f189bc8dd222d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a4b47e7c90abea073511dc6d72e338"><td class="memTemplParams" colspan="2">template&lt;class MessageType &gt; </td></tr>
<tr class="memitem:ab0a4b47e7c90abea073511dc6d72e338"><td class="memTemplItemLeft" align="right" valign="top">MessageType *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#ab0a4b47e7c90abea073511dc6d72e338">push</a> ()</td></tr>
<tr class="separator:ab0a4b47e7c90abea073511dc6d72e338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc783ed63b9f2dfe3ddb278d4e7518de"><td class="memTemplParams" colspan="2">template&lt;class MessageType &gt; </td></tr>
<tr class="memitem:acc783ed63b9f2dfe3ddb278d4e7518de"><td class="memTemplItemLeft" align="right" valign="top">MessageType *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#acc783ed63b9f2dfe3ddb278d4e7518de">push_front</a> ()</td></tr>
<tr class="separator:acc783ed63b9f2dfe3ddb278d4e7518de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ce8628df9d3bc4b62831514ce586b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structedmessage.html">edmessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#a62ce8628df9d3bc4b62831514ce586b6">next</a> (<a class="el" href="classedsystem.html">edsystem</a> *sys)</td></tr>
<tr class="separator:a62ce8628df9d3bc4b62831514ce586b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498a009d4903b42a080ad002021992c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#a498a009d4903b42a080ad002021992c3">pop</a> (<a class="el" href="classedsystem.html">edsystem</a> *sys)</td></tr>
<tr class="separator:a498a009d4903b42a080ad002021992c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae298910744e7f59cbf0d1e87b9d7fc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedmessage__dispatch.html#aae298910744e7f59cbf0d1e87b9d7fc2">process_all</a> (<a class="el" href="classedsystem.html">edsystem</a> *sys)</td></tr>
<tr class="separator:aae298910744e7f59cbf0d1e87b9d7fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class <a class="el" href="classedmessage__dispatch.html" title="Class edmessage_dispatch. ">edmessage_dispatch</a>. </p>
<p>A system can register its interest in certain message types, and any time a message of that type is created it will be added to that system's message queue. This queue is FIFO, and messages will not be deleted until they have been removed from every system's message queue.</p>
<p>Systems can process all messages in their queue by calling process_all(system*) where system* is a pointer to whatever system messages should be processed for (likely "this" pointer). Messages are processed by calling the respective system's process function over and over until all messages in the system's message que are gone. If process returns false at any point, no more messages will be processed and process_all will return.</p>
<p>You can also process one message at a time by calling next to get the oldest message, and pop to remove that message. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a6fca76f17817a3296ed712c8a2cc52d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt; std::string, std::set&lt;<a class="el" href="classedsystem.html">edsystem</a>*&gt; &gt; <a class="el" href="classedmessage__dispatch.html#a6fca76f17817a3296ed712c8a2cc52d1">edmessage_dispatch::listener_map</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This maps message type names to sets of systems. Any system that registers with a message type will be added to the system set corresponding to that message type. </p>

</div>
</div>
<a class="anchor" id="a4e1b44916d32280f02e952e0e41774bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="classedsystem.html">edsystem</a>*, std::deque&lt;<a class="el" href="structedmessage.html">edmessage</a>*&gt; &gt; <a class="el" href="classedmessage__dispatch.html#a4e1b44916d32280f02e952e0e41774bc">edmessage_dispatch::listener_queue</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listener queue holds a map of system pointers to deques of messages. This is FIFO setup - when a message is added to the queue it is appended to the back and when one is taken, it is taken from the front. This does not actually actually delete the message - the message is not deleted until it is no longer in any of the queues. A reference count is kept within the message itself. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8eef1480309ce6b3439b649ed5e94fdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">edmessage_dispatch::edmessage_dispatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad00ef6c590f2d0aa56ce4ba0c42d8a20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">edmessage_dispatch::~edmessage_dispatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a62ce8628df9d3bc4b62831514ce586b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structedmessage.html">edmessage</a> * edmessage_dispatch::next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedsystem.html">edsystem</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a498a009d4903b42a080ad002021992c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void edmessage_dispatch::pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedsystem.html">edsystem</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae298910744e7f59cbf0d1e87b9d7fc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void edmessage_dispatch::process_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedsystem.html">edsystem</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab0a4b47e7c90abea073511dc6d72e338"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MessageType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageType* edmessage_dispatch::push </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acc783ed63b9f2dfe3ddb278d4e7518de"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MessageType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageType* edmessage_dispatch::push_front </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a72e810fc8be900d420c5bc4e4e7ed0fb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MessageType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void edmessage_dispatch::register_listener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedsystem.html">edsystem</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af2e13b40c33728a19f189bc8dd222d3b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class MessageType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void edmessage_dispatch::unregister_listener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedsystem.html">edsystem</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/dprandle/Documents/code/ctrlmod/include/<a class="el" href="edmessage__dispatch_8h_source.html">edmessage_dispatch.h</a></li>
<li>/home/dprandle/Documents/code/ctrlmod/src/<a class="el" href="edmessage__dispatch_8cpp.html">edmessage_dispatch.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 27 2015 18:47:19 for edison ctrlmod by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
